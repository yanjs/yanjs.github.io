<!DOCTYPE HTML>
<html>
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="utf-8">
  
  <title>Yanjs</title>
  <meta name="author" content="Stibium">
  
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  
  <meta property="og:site_name" content="Yanjs">

  
    <meta property="og:image" content="">
  

  <link href="/favicon.png" rel="icon">
  <link rel="alternate" href="/atom.xml" title="Yanjs" type="application/atom+xml">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
</head>
</html>

<body>
  <header id="header" class="inner"><div class="alignleft">
  <h1><a href="/">Yanjs</a></h1>
  <h2><a href="/">test page</a></h2>
</div>
<nav id="main-nav" class="alignright">
  <ul>
    
      <li><a href="/">Home</a></li>
    
      <li><a href="/archives">Archives</a></li>
    
  </ul>
  <div class="clearfix"></div>
</nav>
<div class="clearfix"></div>
</header>
  <div id="content" class="inner">
    <div id="main-col" class="alignleft"><div id="wrapper">
  <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2019-05-12T14:39:37.000Z"><a href="/2019/05/Python-restart.html">Sun May 12 2019 22:39:37 GMT+0800</a></time>
      
      
  
    <h1 class="title"><a href="/2019/05/Python-restart.html">Python.restart()[:4]</a></h1>
  

    </header>
    <div class="entry">
      
        <p>ä»Šå¤©å¼€å§‹é‡æ–°ä»å¤´å¼€å§‹å­¦ä¹ Python3ã€‚<br>é“¾æ¥ï¼š<a href="https://docs.python.org/3/tutorial/index.html" target="_blank" rel="noopener">Pythonå®˜æ–¹æ•™ç¨‹(En)</a></p>
<p>æ­¤å¤„ä¸ºé˜…è¯»ç¬”è®°ã€‚</p>
<h1 id="Index"><a href="#Index" class="headerlink" title="Index"></a>Index</h1><p>Pythonæ˜¯è§£é‡Šå‹è¯­è¨€ï¼Œæ‰©å±•æ€§å¼ºï¼Œå¾ˆğŸ®ğŸºã€‚</p>
<h1 id="1-Whetting-Your-Appetite-æ¿€å‘ä½ çš„å­¦ä¹ æ¬²æœ›"><a href="#1-Whetting-Your-Appetite-æ¿€å‘ä½ çš„å­¦ä¹ æ¬²æœ›" class="headerlink" title="1. Whetting Your Appetite æ¿€å‘ä½ çš„å­¦ä¹ æ¬²æœ›"></a>1. Whetting Your Appetite æ¿€å‘ä½ çš„å­¦ä¹ æ¬²æœ›</h1><p>å¤§æ„ï¼š</p>
<p>(Cå®¶=C/C++)</p>
<p>è‹¥ä½ æƒ³è¦è‡ªåŠ¨åŒ–ï¼ŒPythonå¾ˆåˆé€‚ã€‚</p>
<p>Cå®¶/Javaæ˜“è„±å‘ã€‚æµ‹è¯•æ•°æ®éš¾ç”Ÿæˆã€‚æˆ‘çš„ç¨‹åºéœ€æ‹“å±•è¯­è¨€ã€‚Shell/BatåšGUIéš¾ã€‚Cå®¶/Javaè‰ç¨¿çƒ¦ã€‚</p>
<p>Pythonæ˜“ç”¨å¤šå¹³å°ï¼Œæ˜¯çœŸæ­£çš„ç¼–ç¨‹è¯­è¨€ã€‚æ¯”Shell/Batå¼ºå¤§ã€‚é”™è¯¯å¤„ç†å®Œçˆ†Cã€‚æ•°æ®ç»“æ„è¶…é«˜çº§ã€‚ä»£ç æ‰“åŒ…å¥½é‡(chÃ³ng)ç”¨ï¼ŒStdåº“åŠŸèƒ½ä¸°å¯Œã€‚è§£é‡Šè¯­è¨€çœæ—¶é—´ï¼Œä¸æ‡‚ç¼–è¯‘ã€è¿æ¥è‹¦ã€‚è§£é‡Šå™¨åŠ¨æ€ä½¿ç”¨ï¼Œä¸ç”¨ä¹¦å†™test.pyã€‚ç¨‹åºä»£ç çŸ­è€Œç²¾ã€‚Cå®¶å‡½æ•°æ‹¿æ¥ç”¨ã€‚</p>
<p>åç§°ä¸æºäºå¤§è›‡ï¼Œè€Œæ˜¯ã€Šè’™æÂ·æ´¾æ£®çš„é£è¡Œé©¬æˆå›¢ã€‹ï¼Œé¼“åŠ±ä½ refå…¶å°å“ã€‚</p>
<p>æœ¬æ•™ç¨‹é‚€è¯·æ‚¨åœ¨é˜…è¯»æ—¶ä½¿ç”¨Pythonè§£é‡Šå™¨ã€‚</p>
<p>æœ¬æ•™ç¨‹å°†ä»‹ç»Pythonè¯­è¨€çš„å„ç§ç‰¹æ€§ã€‚</p>
<h1 id="2-Using-the-Python-Interpreter-ä½¿ç”¨Pythonè§£é‡Šå™¨"><a href="#2-Using-the-Python-Interpreter-ä½¿ç”¨Pythonè§£é‡Šå™¨" class="headerlink" title="2. Using the Python Interpreter ä½¿ç”¨Pythonè§£é‡Šå™¨"></a>2. Using the Python Interpreter ä½¿ç”¨Pythonè§£é‡Šå™¨</h1><h2 id="2-1-Invoking-the-Interpreter"><a href="#2-1-Invoking-the-Interpreter" class="headerlink" title="2.1. Invoking the Interpreter"></a>2.1. Invoking the Interpreter</h2><p>Linuxè§£é‡Šå™¨ä¸€èˆ¬åœ¨ <code>/usr/local/bin/python3.7</code> æˆ– <code>/usr/local/python</code> è¦ä¸ç„¶æ‰¾ä¸€ä¸‹ã€‚</p>
<p>Windowsåˆ«å¿˜äº†åœ¨å‘½ä»¤è¡Œè®¾ç½®ç¯å¢ƒå˜é‡ï¼Œåˆ†å·åè·¯å¾„ä¸ºè§£é‡Šå™¨æ‰€åœ¨è·¯å¾„ <code>set path=%path%;C:\python37</code>  <a href="ttps://docs.python.org/3/faq/windows.html#faq-run-program-under-windows" target="_blank" rel="noopener">Windowsæ‰“å¼€Pythonè§£é‡Šå™¨æ–¹æ³•</a></p>
<p>ï¼ˆ<code>Ctrl+D</code> = <code>^D</code> = <code>c-d</code>ï¼‰</p>
<p>è¿›å…¥äº¤äº’å¼è§£é‡Šå™¨æ–¹æ³•ï¼šé”®å…¥<code>python</code></p>
<p>é€€å‡ºè§£é‡Šå™¨æ–¹æ³•ï¼šåœ¨ä¸€è¡Œä»…æœ‰ <code>&gt;&gt;&gt;</code> æç¤ºç¬¦æ—¶ï¼Œ <code>c-d</code> <code>c-z + Enter</code> <code>quit()</code> ä¸‰é€‰ä¸€ï¼ˆä¸ä¸€å®šéƒ½è¡Œï¼‰ã€‚</p>
<p>æŒ‰<code>c-p</code>ï¼Œè‹¥ä¸æ˜¾ç¤º<code>^P</code>ï¼Œåˆ™æ‹¥æœ‰<a href="https://docs.python.org/3/tutorial/interactive.html#tut-interacting" target="_blank" rel="noopener">å‘½ä»¤è¡Œç¼–è¾‘åŠŸèƒ½</a>ã€‚</p>
<p>è§£é‡Šå™¨åƒShellä¸€æ ·å·¥ä½œã€‚</p>
<p>åœ¨å‘½ä»¤è¡Œä¸­ï¼š</p>
<p><code>python -c command [arg] ...</code></p>
<p><code>command</code> ï¼šè¦æ‰§è¡Œçš„å‘½ä»¤</p>
<p><code>python -m module [arg] ...</code></p>
<p><code>module</code> ï¼šç›´æ¥æ‰§è¡Œçš„æ¨¡å—ï¼Œæ¨¡å—å¿…é¡»è¦æœ‰æºæ–‡ä»¶ï¼Œå¦‚ <code>sys</code> æ¨¡å—å°±æ²¡æœ‰æºæ–‡ä»¶ã€‚</p>
<p><code>python -i *.py</code></p>
<p>æ‰§è¡Œè„šæœ¬åè¿›å…¥äº¤äº’æ¨¡å¼</p>
<p><a href="https://docs.python.org/3/using/cmdline.html#using-on-general" target="_blank" rel="noopener">å‘½ä»¤è¡Œé€‰é¡¹å¤§å…¨</a>ï¼Œä¹Ÿå¯æ‰¾<code>man python</code> æˆ– <code>python --help</code>ã€‚</p>
<h3 id="2-1-1-Argument-Passing-å‘½ä»¤è¡Œå‚æ•°ä¼ é€’"><a href="#2-1-1-Argument-Passing-å‘½ä»¤è¡Œå‚æ•°ä¼ é€’" class="headerlink" title="2.1.1. Argument Passing å‘½ä»¤è¡Œå‚æ•°ä¼ é€’"></a>2.1.1. Argument Passing å‘½ä»¤è¡Œå‚æ•°ä¼ é€’</h3><p>sys.argvç›¸å…³</p>
<h3 id="2-1-2-Interactive-Mode-äº¤äº’æ¨¡å¼"><a href="#2-1-2-Interactive-Mode-äº¤äº’æ¨¡å¼" class="headerlink" title="2.1.2. Interactive Mode äº¤äº’æ¨¡å¼"></a>2.1.2. Interactive Mode äº¤äº’æ¨¡å¼</h3><p><code>&gt;&gt;&gt;</code> ï¼šç¬¬ä¸€æç¤ºç¬¦</p>
<p><code>...</code> ï¼šç¬¬äºŒæç¤ºç¬¦ï¼Œè¡¨ç¤ºè¿ç€ä¸Šé¢ä¸€è¡Œ</p>
<h2 id="2-2-The-Interpreter-and-Its-Environment-è§£é‡Šå™¨å’Œç¯å¢ƒ"><a href="#2-2-The-Interpreter-and-Its-Environment-è§£é‡Šå™¨å’Œç¯å¢ƒ" class="headerlink" title="2.2. The Interpreter and Its Environment è§£é‡Šå™¨å’Œç¯å¢ƒ"></a>2.2. The Interpreter and Its Environment è§£é‡Šå™¨å’Œç¯å¢ƒ</h2><h3 id="2-2-1-Source-Code-Encoding-æºä»£ç çš„ç¼–ç "><a href="#2-2-1-Source-Code-Encoding-æºä»£ç çš„ç¼–ç " class="headerlink" title="2.2.1. Source Code Encoding æºä»£ç çš„ç¼–ç "></a>2.2.1. Source Code Encoding æºä»£ç çš„ç¼–ç </h3><p>åœ¨æºä»£ç ç¬¬ä¸€è¡Œæ·»åŠ ï¼ˆå¦‚æœç¬¬ä¸€è¡Œæ˜¯shebang <code>#!</code> è¡Œï¼Œå°±æ”¹ä¸ºç¬¬äºŒè¡Œï¼‰</p>
<p><code># -*- coding: encoding -*-</code></p>
<p><code>encoding</code> ï¼šä½¿ç”¨çš„ç¼–ç ï¼Œå¯ç”¨ç¼–ç <a href="https://docs.python.org/3/library/codecs.html#standard-encodings" target="_blank" rel="noopener">å‚è§</a></p>
<h1 id="3-An-Informal-Introduction-to-Python-Pythonçš„éæ­£å¼ä»‹ç»"><a href="#3-An-Informal-Introduction-to-Python-Pythonçš„éæ­£å¼ä»‹ç»" class="headerlink" title="3. An Informal Introduction to Python Pythonçš„éæ­£å¼ä»‹ç»"></a>3. An Informal Introduction to Python Pythonçš„éæ­£å¼ä»‹ç»</h1><p>åŒºåˆ†è¾“å…¥å’Œè¾“å‡ºï¼šæœ‰æç¤ºç¬¦ï¼ˆ <code>&gt;&gt;&gt;</code> <code>...</code> ï¼‰ä¸ºè¾“å…¥ï¼Œæ— æç¤ºç¬¦ä¸ºè¾“å‡ºï¼ˆæºä»£ç ï¼‰</p>
<p>ä¸åœ¨å­—ç¬¦ä¸²ä¸­çš„ <code>#</code> å·è‡³è¡Œå°¾ä¸ºæ³¨é‡Š</p>
<h2 id="3-1-Using-Python-as-a-Calculator-æŠŠPythonç”¨ä½œè®¡ç®—å™¨"><a href="#3-1-Using-Python-as-a-Calculator-æŠŠPythonç”¨ä½œè®¡ç®—å™¨" class="headerlink" title="3.1. Using Python as a Calculator æŠŠPythonç”¨ä½œè®¡ç®—å™¨"></a>3.1. Using Python as a Calculator æŠŠPythonç”¨ä½œè®¡ç®—å™¨</h2><h3 id="3-1-1-Numbers-æ•°å­—"><a href="#3-1-1-Numbers-æ•°å­—" class="headerlink" title="3.1.1. Numbers æ•°å­—"></a>3.1.1. Numbers æ•°å­—</h3><p><code>_</code> ç›¸å½“äºè®¡ç®—å™¨ä¸Šçš„ansï¼Œä¿ç•™äº†æœ€åä¸€æ¬¡è®¡ç®—ç»“æœã€‚èµ‹å€¼è¯­å¥ä¸ç®—è®¡ç®—ç»“æœã€‚<code>_</code> å±äºå†…ç½®é­”æ³•å˜é‡ï¼Œä¸è¦å°è¯•æ˜¾å¼èµ‹å€¼ç»™å®ƒï¼Œä¸ç„¶ä¼šåˆ›å»ºä¸€ä¸ªåŒåæœ¬åœ°å˜é‡å°†å…¶å±è”½ï¼Œå¤±å»äº†é­”æ³•ã€‚</p>
<p>Pythonä¸ä»…æ”¯æŒintå’Œfloatå‹ï¼Œè¿˜æ”¯æŒDecimalå’ŒFractionå‹ï¼ˆéœ€è¦importç›¸åº”åº“ï¼‰ï¼Œç«Ÿç„¶è¿˜æ”¯æŒå¤æ•°ï¼ˆå†…ç½®åŠŸèƒ½ï¼Œæ— éœ€importï¼‰ã€‚ä½¿ç”¨æ–¹æ³•ï¼š <code>3+5j</code> è¡¨ç¤ºå¤æ•° 3+5i ï¼Œ<code>j</code> æ˜¯è™šæ•°å•ä½ã€‚</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="number">2</span> + <span class="number">2</span></span><br><span class="line"><span class="number">4</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="number">50</span> - <span class="number">5</span>*<span class="number">6</span></span><br><span class="line"><span class="number">20</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>(<span class="number">50</span> - <span class="number">5</span>*<span class="number">6</span>) / <span class="number">4</span></span><br><span class="line"><span class="number">5.0</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="number">8</span> / <span class="number">5</span>  <span class="comment"># division always returns a floating point number</span></span><br><span class="line"><span class="number">1.6</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="number">17</span> / <span class="number">3</span>  <span class="comment"># classic division returns a float</span></span><br><span class="line"><span class="number">5.666666666666667</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="number">17</span> // <span class="number">3</span>  <span class="comment"># floor division discards the fractional part</span></span><br><span class="line"><span class="number">5</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="number">17</span> % <span class="number">3</span>  <span class="comment"># the % operator returns the remainder of the division</span></span><br><span class="line"><span class="number">2</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="number">5</span> * <span class="number">3</span> + <span class="number">2</span>  <span class="comment"># result * divisor + remainder</span></span><br><span class="line"><span class="number">17</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="number">5</span> ** <span class="number">2</span>  <span class="comment"># 5 squared</span></span><br><span class="line"><span class="number">25</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="number">2</span> ** <span class="number">7</span>  <span class="comment"># 2 to the power of 7</span></span><br><span class="line"><span class="number">128</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>width = <span class="number">20</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>height = <span class="number">5</span> * <span class="number">9</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>width * height</span><br><span class="line"><span class="number">900</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>n  <span class="comment"># try to access an undefined variable</span></span><br><span class="line">Traceback (most recent call last):</span><br><span class="line">  File <span class="string">"&lt;stdin&gt;"</span>, line <span class="number">1</span>, <span class="keyword">in</span> &lt;module&gt;</span><br><span class="line">NameError: name <span class="string">'n'</span> <span class="keyword">is</span> <span class="keyword">not</span> defined</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>tax = <span class="number">12.5</span> / <span class="number">100</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>price = <span class="number">100.50</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>price * tax</span><br><span class="line"><span class="number">12.5625</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>price + _</span><br><span class="line"><span class="number">113.0625</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>round(_, <span class="number">2</span>)</span><br><span class="line"><span class="number">113.06</span></span><br></pre></td></tr></table></figure>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">import</span> math</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>math.e ** (math.pi * <span class="number">1j</span>)</span><br><span class="line">(<span class="number">-1</span>+<span class="number">1.2246467991473532e-16j</span>)</span><br></pre></td></tr></table></figure>
<h3 id="3-1-2-Strings-å­—ç¬¦ä¸²"><a href="#3-1-2-Strings-å­—ç¬¦ä¸²" class="headerlink" title="3.1.2 Strings å­—ç¬¦ä¸²"></a>3.1.2 Strings å­—ç¬¦ä¸²</h3><p>åœ¨å­—ç¬¦ä¸²å‰é¢åŠ  <code>r</code> å¯ä»¥ä¸ä½¿ç”¨ä»»ä½•è½¬ä¹‰ï¼Œå¤šç”¨äºè·¯å¾„å’Œæ­£åˆ™è¡¨è¾¾å¼ã€‚</p>
<p><code>&quot;&quot;&quot;</code> æˆ– <code>&#39;&#39;&#39;</code> ï¼šä¸‰å¼•å·ã€‚æˆå¯¹çš„ä¸‰å¼•å·å¯ä»¥éšæ„æ¢è¡Œï¼Œå¹¶è‡ªåŠ¨å°† <code>\n</code> æ¢è¡Œç¬¦åŠ å…¥å­—ç¬¦ä¸²ã€‚è‹¥ä¸æƒ³åœ¨æŸè¡Œç»“å°¾è‡ªåŠ¨è¢«æ·»åŠ æ¢è¡Œï¼Œå¯ä»¥åœ¨è¡Œå°¾é”®å…¥ <code>\</code> ã€‚</p>
<p>ä¸‹æ ‡ç´¢å¼•åˆ‡ç‰‡ç¤ºä¾‹ï¼š</p>
<pre>
 +---+---+---+---+---+---+
 | P | y | t | h | o | n |
 +---+---+---+---+---+---+
 0   1   2   3   4   5   6
-6  -5  -4  -3  -2  -1
</pre>

<p>ï¼ˆéƒ¨åˆ†ç®€å•ä½¿ç”¨ï¼Œå¦‚çµæ´»ä½¿ç”¨ <code>&#39;</code> å’Œ <code>&quot;</code> ç•¥ï¼‰<br><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>s = <span class="string">'First line.\nSecond line.'</span>  <span class="comment"># \n means newline</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>s  <span class="comment"># without print(), \n is included in the output</span></span><br><span class="line"><span class="string">'First line.\nSecond line.'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>print(s)  <span class="comment"># with print(), \n produces a new line</span></span><br><span class="line">First line.</span><br><span class="line">Second line.</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>print(<span class="string">'C:\some\name'</span>)  <span class="comment"># here \n means newline!</span></span><br><span class="line">C:\some</span><br><span class="line">ame</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>print(<span class="string">r'C:\some\name'</span>)  <span class="comment"># note the r before the quote</span></span><br><span class="line">C:\some\name</span><br><span class="line">print(<span class="string">"""\</span></span><br><span class="line"><span class="string">Usage: thingy [OPTIONS]</span></span><br><span class="line"><span class="string">     -h                        Display this usage message</span></span><br><span class="line"><span class="string">     -H hostname               Hostname to connect to</span></span><br><span class="line"><span class="string">"""</span>)</span><br><span class="line">Usage: thingy [OPTIONS]</span><br><span class="line">     -h                        Display this usage message</span><br><span class="line">     -H hostname               Hostname to connect to</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="comment"># 3 times 'un', followed by 'ium'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="number">3</span> * <span class="string">'un'</span> + <span class="string">'ium'</span></span><br><span class="line"><span class="string">'unununium'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">'Py'</span> <span class="string">'thon'</span></span><br><span class="line"><span class="string">'Python'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>text = (<span class="string">'Put several strings within parentheses '</span></span><br><span class="line"><span class="meta">... </span>        <span class="string">'to have them joined together.'</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>text</span><br><span class="line"><span class="string">'Put several strings within parentheses to have them joined together.'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>prefix = <span class="string">'Py'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>prefix <span class="string">'thon'</span>  <span class="comment"># can't concatenate a variable and a string literal</span></span><br><span class="line">  File <span class="string">"&lt;stdin&gt;"</span>, line <span class="number">1</span></span><br><span class="line">    prefix <span class="string">'thon'</span></span><br><span class="line">                ^</span><br><span class="line">SyntaxError: invalid syntax</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>(<span class="string">'un'</span> * <span class="number">3</span>) <span class="string">'ium'</span></span><br><span class="line">  File <span class="string">"&lt;stdin&gt;"</span>, line <span class="number">1</span></span><br><span class="line">    (<span class="string">'un'</span> * <span class="number">3</span>) <span class="string">'ium'</span></span><br><span class="line">                   ^</span><br><span class="line">SyntaxError: invalid syntax</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>prefix + <span class="string">'thon'</span></span><br><span class="line"><span class="string">'Python'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>word = <span class="string">'Python'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>word[<span class="number">0</span>]  <span class="comment"># character in position 0</span></span><br><span class="line"><span class="string">'P'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>word[<span class="number">5</span>]  <span class="comment"># character in position 5</span></span><br><span class="line"><span class="string">'n'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>word[<span class="number">-1</span>]  <span class="comment"># last character</span></span><br><span class="line"><span class="string">'n'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>word[<span class="number">-6</span>]</span><br><span class="line"><span class="string">'P'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>word[<span class="number">2</span>:<span class="number">5</span>]  <span class="comment"># characters from position 2 (included) to 5 (excluded)</span></span><br><span class="line"><span class="string">'tho'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>word[:<span class="number">2</span>] + word[<span class="number">2</span>:]</span><br><span class="line"><span class="string">'Python'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>word[:<span class="number">2</span>]   <span class="comment"># character from the beginning to position 2 (excluded)</span></span><br><span class="line"><span class="string">'Py'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>word[<span class="number">4</span>:]   <span class="comment"># characters from position 4 (included) to the end</span></span><br><span class="line"><span class="string">'on'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>word[<span class="number">-2</span>:]  <span class="comment"># characters from the second-last (included) to the end</span></span><br><span class="line"><span class="string">'on'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>word[<span class="number">42</span>]  <span class="comment"># the word only has 6 characters</span></span><br><span class="line">Traceback (most recent call last):</span><br><span class="line">  File <span class="string">"&lt;stdin&gt;"</span>, line <span class="number">1</span>, <span class="keyword">in</span> &lt;module&gt;</span><br><span class="line">IndexError: string index out of range</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>word[<span class="number">4</span>:<span class="number">42</span>]</span><br><span class="line"><span class="string">'on'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>word[<span class="number">42</span>:]</span><br><span class="line"><span class="string">''</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>word[<span class="number">0</span>] = <span class="string">'J'</span></span><br><span class="line">Traceback (most recent call last):</span><br><span class="line">  File <span class="string">"&lt;stdin&gt;"</span>, line <span class="number">1</span>, <span class="keyword">in</span> &lt;module&gt;</span><br><span class="line">TypeError: <span class="string">'str'</span> object does <span class="keyword">not</span> support item assignment</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>word[<span class="number">2</span>:] = <span class="string">'py'</span></span><br><span class="line">Traceback (most recent call last):</span><br><span class="line">  File <span class="string">"&lt;stdin&gt;"</span>, line <span class="number">1</span>, <span class="keyword">in</span> &lt;module&gt;</span><br><span class="line">TypeError: <span class="string">'str'</span> object does <span class="keyword">not</span> support item assignment</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">'J'</span> + word[<span class="number">1</span>:]</span><br><span class="line"><span class="string">'Jython'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>word[:<span class="number">2</span>] + <span class="string">'py'</span></span><br><span class="line"><span class="string">'Pypy'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>s = <span class="string">'supercalifragilisticexpialidocious'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>len(s)</span><br><span class="line"><span class="number">34</span></span><br></pre></td></tr></table></figure></p>
<h3 id="3-1-3-Lists-åˆ—è¡¨"><a href="#3-1-3-Lists-åˆ—è¡¨" class="headerlink" title="3.1.3. Lists åˆ—è¡¨"></a>3.1.3. Lists åˆ—è¡¨</h3><p>Pythonå†…ç½®å‡ ä¸ªå¤åˆæ•°æ®ç±»å‹ï¼Œæœ€é€šç”¨çš„æ˜¯List</p>
<p><code>[:]</code> æµ…å¤åˆ¶</p>
<p>ï¼ˆéƒ¨åˆ†ç®€å•ä½¿ç”¨ï¼Œå¦‚åˆ‡ç‰‡ã€+ã€append()ã€len()ã€å¤åˆListç•¥ï¼‰</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>a=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>]]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>b=a[:]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a</span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>]]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>b</span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>]]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a[<span class="number">0</span>]=<span class="number">-1</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a</span><br><span class="line">[<span class="number">-1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>]]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>b</span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>]]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a[<span class="number">4</span>][<span class="number">0</span>]=<span class="number">-1</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a</span><br><span class="line">[<span class="number">-1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, [<span class="number">-1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>]]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>b</span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, [<span class="number">-1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>]]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>letters = [<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>, <span class="string">'d'</span>, <span class="string">'e'</span>, <span class="string">'f'</span>, <span class="string">'g'</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>letters</span><br><span class="line">[<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>, <span class="string">'d'</span>, <span class="string">'e'</span>, <span class="string">'f'</span>, <span class="string">'g'</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="comment"># replace some values</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>letters[<span class="number">2</span>:<span class="number">5</span>] = [<span class="string">'C'</span>, <span class="string">'D'</span>, <span class="string">'E'</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>letters</span><br><span class="line">[<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'C'</span>, <span class="string">'D'</span>, <span class="string">'E'</span>, <span class="string">'f'</span>, <span class="string">'g'</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="comment"># now remove them</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>letters[<span class="number">2</span>:<span class="number">5</span>] = []</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>letters</span><br><span class="line">[<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'f'</span>, <span class="string">'g'</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="comment"># clear the list by replacing all the elements with an empty list</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>letters[:] = []</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>letters</span><br><span class="line">[]</span><br></pre></td></tr></table></figure>
<h2 id="3-2-First-Steps-Towards-Programming-ç¼–ç¨‹ç¬¬ä¸€æ­¥"><a href="#3-2-First-Steps-Towards-Programming-ç¼–ç¨‹ç¬¬ä¸€æ­¥" class="headerlink" title="3.2. First Steps Towards Programming ç¼–ç¨‹ç¬¬ä¸€æ­¥"></a>3.2. First Steps Towards Programming ç¼–ç¨‹ç¬¬ä¸€æ­¥</h2><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="comment"># æ–æ³¢é‚£å¥‘æ•°åˆ—</span></span><br><span class="line"><span class="meta">... </span>a, b = <span class="number">0</span>, <span class="number">1</span> <span class="comment"># å¤šé‡èµ‹å€¼ï¼ŒåŒæ—¶èµ‹å€¼</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">while</span> a &lt; <span class="number">10</span>: <span class="comment"># whileçš„æ¡ä»¶ä¸ºTrueçœŸæ—¶æ‰§è¡Œä¸€éä¸‹æ–¹å¾ªç¯ï¼Œç„¶åå›åˆ°æœ¬å¥ã€‚</span></span><br><span class="line"><span class="meta">... </span>              <span class="comment"># æ¡ä»¶é™¤äº†æ¯”è¾ƒæ“ä½œç¬¦ï¼Œè¿˜å¯ä»¥æ˜¯å­—ç¬¦ä¸²æˆ–Liståˆ—è¡¨</span></span><br><span class="line"><span class="meta">... </span>    print(a, end=<span class="string">','</span>) <span class="comment"># å¾ªç¯éƒ¨åˆ†æ³¨æ„ç¼©è¿›å¯¹é½ï¼Œå¹¶ä¸”åªä½¿ç”¨ç©ºæ ¼æˆ–åªä½¿ç”¨tabç¼©è¿›</span></span><br><span class="line"><span class="meta">... </span>                      <span class="comment"># å…³é”®å­—å‚æ•°endï¼ˆé»˜è®¤å€¼ä¸º `'\n'` ï¼‰ä¼šä½œä¸ºprint()æ‰§è¡Œå®Œæ¯•æ˜¯è¾“å‡ºçš„å­—ç¬¦</span></span><br><span class="line"><span class="meta">... </span>    a, b = b, a+b <span class="comment"># ç­‰å·å³è¾¹ä»å·¦åˆ°å³æ±‚å€¼</span></span><br><span class="line">...</span><br><span class="line"><span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">8</span>,&gt;&gt;&gt; i = <span class="number">256</span>*<span class="number">256</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>print(<span class="string">'The value of i is'</span>, i)</span><br><span class="line">The value of i <span class="keyword">is</span> <span class="number">65536</span></span><br></pre></td></tr></table></figure>
<p>æœ¬æ–‡å®Œ</p>

      
    </div>
    <footer>
      
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>


  <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2019-02-23T16:12:12.000Z"><a href="/2019/02/CRC-32.html">Sun Feb 24 2019 00:12:12 GMT+0800</a></time>
      
      
  
    <h1 class="title"><a href="/2019/02/CRC-32.html">CRC-32</a></h1>
  

    </header>
    <div class="entry">
      
        <p>source: <a href="https://www.w3.org/TR/PNG-CRCAppendix.html" target="_blank" rel="noopener">https://www.w3.org/TR/PNG-CRCAppendix.html</a></p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* Table of CRCs of all 8-bit messages. */</span></span><br><span class="line"><span class="keyword">unsigned</span> <span class="keyword">long</span> crc_table[<span class="number">256</span>];</span><br><span class="line"></span><br><span class="line"><span class="comment">/* Flag: has the table been computed? Initially false. */</span></span><br><span class="line"><span class="keyword">int</span> crc_table_computed = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* Make the table for a fast CRC. */</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">make_crc_table</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="keyword">unsigned</span> <span class="keyword">long</span> c;</span><br><span class="line">  <span class="keyword">int</span> n, k;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> (n = <span class="number">0</span>; n &lt; <span class="number">256</span>; n++) &#123;</span><br><span class="line">    c = (<span class="keyword">unsigned</span> <span class="keyword">long</span>) n;</span><br><span class="line">    <span class="keyword">for</span> (k = <span class="number">0</span>; k &lt; <span class="number">8</span>; k++) &#123;</span><br><span class="line">      <span class="keyword">if</span> (c &amp; <span class="number">1</span>)</span><br><span class="line">        c = <span class="number">0xedb88320</span>L ^ (c &gt;&gt; <span class="number">1</span>);</span><br><span class="line">      <span class="keyword">else</span></span><br><span class="line">        c = c &gt;&gt; <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    crc_table[n] = c;</span><br><span class="line">  &#125;</span><br><span class="line">  crc_table_computed = <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* Update a running CRC with the bytes buf[0..len-1]--the CRC</span></span><br><span class="line"><span class="comment">   should be initialized to all 1's, and the transmitted value</span></span><br><span class="line"><span class="comment">   is the 1's complement of the final running CRC (see the</span></span><br><span class="line"><span class="comment">   crc() routine below)). */</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">unsigned</span> <span class="keyword">long</span> <span class="title">update_crc</span><span class="params">(<span class="keyword">unsigned</span> <span class="keyword">long</span> crc, <span class="keyword">unsigned</span> <span class="keyword">char</span> *buf,</span></span></span><br><span class="line"><span class="function"><span class="params">                         <span class="keyword">int</span> len)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="keyword">unsigned</span> <span class="keyword">long</span> c = crc;</span><br><span class="line">  <span class="keyword">int</span> n;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (!crc_table_computed)</span><br><span class="line">    make_crc_table();</span><br><span class="line">  <span class="keyword">for</span> (n = <span class="number">0</span>; n &lt; len; n++) &#123;</span><br><span class="line">    c = crc_table[(c ^ buf[n]) &amp; <span class="number">0xff</span>] ^ (c &gt;&gt; <span class="number">8</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> c;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* Return the CRC of the bytes buf[0..len-1]. */</span></span><br><span class="line"><span class="function"><span class="keyword">unsigned</span> <span class="keyword">long</span> <span class="title">crc</span><span class="params">(<span class="keyword">unsigned</span> <span class="keyword">char</span> *buf, <span class="keyword">int</span> len)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="keyword">return</span> update_crc(<span class="number">0xffffffff</span>L, buf, len) ^ <span class="number">0xffffffff</span>L;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

      
    </div>
    <footer>
      
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>


  <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2019-02-23T15:04:44.000Z"><a href="/2019/02/PNG-Structure.html">Sat Feb 23 2019 23:04:44 GMT+0800</a></time>
      
      
  
    <h1 class="title"><a href="/2019/02/PNG-Structure.html">PNG Structure</a></h1>
  

    </header>
    <div class="entry">
      
        <h1 id="PNG-Portable-Network-Graphics-Structure"><a href="#PNG-Portable-Network-Graphics-Structure" class="headerlink" title="PNG (Portable Network Graphics) Structure"></a>PNG (Portable Network Graphics) Structure</h1><p>Source: <a href="https://www.w3.org/TR/PNG-Structure.html" target="_blank" rel="noopener">https://www.w3.org/TR/PNG-Structure.html</a></p>
<h2 id="File-signature"><a href="#File-signature" class="headerlink" title="File signature"></a>File signature</h2><p>8 bytes:</p>
<pre>
HEX:  89 50 4E 47 0D 0A 1A 0A 
ASC:  NA  P  N  G \r \n NA \n 
</pre>

<h2 id="Parts"><a href="#Parts" class="headerlink" title="Parts"></a>Parts</h2><p>Each chunk consists of three or four fields:</p>
<table>
<thead>
<tr>
<th>Field Name</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Length</strong></td>
<td>A 4-byte unsigned integer <tt>âˆˆ[0,2^31-1]</tt> giving the number of bytes in the <strong>Chunk Data</strong> field. Although encoders and decoders should treat the length as unsigned, its value shall not exceed <tt>(2^31-1)</tt> bytes.</td>
</tr>
<tr>
<td><strong>Chunk Type</strong></td>
<td>A 4-byte chunk type code. Each byte <tt>âˆˆ[â€˜Aâ€™,â€™Zâ€™]âˆª[â€˜aâ€™,â€™zâ€™]</tt>.</td>
</tr>
<tr>
<td><strong>Chunk Data</strong></td>
<td>The data bytes appropriate to the <strong>Chunk Type</strong>, if any. This field can be of zero length.</td>
</tr>
<tr>
<td><strong>CRC</strong></td>
<td>A 4-byte CRC (Cyclic Redundancy Check) calculated on the preceding bytes in the chunk, including the <strong>Chunk Type</strong> code and <strong>Chunk Data</strong> fields, but NOT including the <strong>Length</strong> field. The CRC is always present, even for chunks containing no data. See <a href="https://www.w3.org/TR/PNG/#5CRC-algorithm" target="_blank" rel="noopener">CRC algorithm</a>.</td>
</tr>
</tbody>
</table>
<p>The chunk data length can be any number of bytes up to the maximum; therefore, implementors cannot assume that chunks are aligned on any boundaries larger than bytes.</p>
<p>See Rationale: <a href="https://www.w3.org/TR/PNG-Rationale.html#R.Chunk-layout" target="_blank" rel="noopener">Chunk layout</a></p>
<h2 id="Chunk-Naming-Conventions"><a href="#Chunk-Naming-Conventions" class="headerlink" title="Chunk Naming Conventions"></a>Chunk Naming Conventions</h2><p>Chunk types are chosen to be meaningful names when the bytes of the chunk type are interpreted as ISO 646 letters. Chunk types are assigned so that a decoder can determine some properties of a chunk even when the type is not recognized.</p>
<p>Four bits of the chunk type, the property bits, namely bit 5 (value 32) of each byte, are used to convey chunk properties. This choice means that a human can read off the assigned properties according to whether the letter corresponding to each byte of the chunk type is uppercase (bit 5 is 0) or lowercase (bit 5 is 1).</p>
<p>The property bits are an inherent part of the chunk type, and hence are fixed for any chunk type. Thus, CHNK and cHNk would be unrelated chunk types, not the same chunk with different properties.</p>
<table>
<thead>
<tr>
<th>Byte</th>
<th>Bit</th>
<th>Name</th>
<th>Value</th>
<th>Details</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>5</td>
<td>Ancillary bit</td>
<td>0 (UPPERCASE) = CRITICAL, 1 (lowercase) = ancillary.</td>
<td>Critical chunks are necessary for successful display of the contents of the datastream. A decoder trying to extract the image, upon encountering an unknown chunk type in which the ancillary bit is 0, shall indicate to the user that the image contains information it cannot safely interpret. Ancillary chunks are not strictly necessary in order to meaningfully display the contents of the datastream. A decoder encountering an unknown chunk type in which the ancillary bit is 1 can safely ignore the chunk and proceed to display the image.</td>
</tr>
<tr>
<td>2</td>
<td>5</td>
<td>Private bit</td>
<td>0 = PUBLIC, 1 = private.</td>
<td>A public chunk is one that is defined in this International Standard or is registered in the list of PNG special-purpose public chunk types maintained by the Registration Authority. Applications can also define private (unregistered) chunk types for their own purposes. Decoders do not need to test the private-chunk property bit, since it has no functional significance; it is simply an administrative convenience to ensure that public and private chunk names will not conflict.</td>
</tr>
<tr>
<td>3</td>
<td>5</td>
<td>Reserved bit</td>
<td>0 = IN THIS VERSION OF PNG, 1 = ??.</td>
<td>The case of the third letter of the chunk name is reserved for possible future extension. In this International Standard, all chunk names shall have uppercase third letters.</td>
</tr>
<tr>
<td>4</td>
<td>5</td>
<td>Save-to-copy bit</td>
<td>0 = UNSAFE, 1 = safe.</td>
<td>This property bit is not of interest to pure decoders, but it is needed by PNG editors. This bit defines the proper handling of unrecognized chunks in a datastream that is being modified.</td>
</tr>
</tbody>
</table>
<p>Example:</p>
<pre>
cHNk  //32 bit chunk type represented in text form
||||
|||^- Safe-to-copy bit is 1 (lowercase; bit 5 is 1)
||^-- Reserved bit is 0     (uppercase; bit 5 is 0)
|^--- Private bit is 0      (uppercase; bit 5 is 0)
^---- Ancillary bit is 1    (lowercase; bit 5 is 1)
</pre>

<h2 id="Trunk-Order"><a href="#Trunk-Order" class="headerlink" title="Trunk Order"></a>Trunk Order</h2><table>
<thead>
<tr>
<th>Chunk name</th>
<th>Multiple allowed</th>
<th>Ordering constraints</th>
</tr>
</thead>
<tbody>
<tr>
<td>IHDR</td>
<td>No</td>
<td>Shall be first</td>
</tr>
<tr>
<td>PLTE</td>
<td>No</td>
<td>Before first IDAT</td>
</tr>
<tr>
<td>IDAT</td>
<td>Yes</td>
<td>Multiple IDAT chunks shall be consecutive</td>
</tr>
<tr>
<td>IEND</td>
<td>No</td>
<td>Shall be last</td>
</tr>
<tr>
<td>cHRM</td>
<td>No</td>
<td>Before PLTE and IDAT</td>
</tr>
<tr>
<td>gAMA</td>
<td>No</td>
<td>Before PLTE and IDAT</td>
</tr>
<tr>
<td>iCCP</td>
<td>No</td>
<td>Before PLTE and IDAT. If the iCCP chunk is present, the sRGB chunk should not be present.</td>
</tr>
<tr>
<td>sBIT</td>
<td>No</td>
<td>Before PLTE and IDAT</td>
</tr>
<tr>
<td>sRGB</td>
<td>No</td>
<td>Before PLTE and IDAT. If the sRGB chunk is present, the iCCP chunk should not be present.</td>
</tr>
<tr>
<td>bKGD</td>
<td>No</td>
<td>After PLTE; before IDAT</td>
</tr>
<tr>
<td>hIST</td>
<td>No</td>
<td>After PLTE; before IDAT</td>
</tr>
<tr>
<td>tRNS</td>
<td>No</td>
<td>After PLTE; before IDAT</td>
</tr>
<tr>
<td>pHYs</td>
<td>No</td>
<td>Before IDAT</td>
</tr>
<tr>
<td>sPLT</td>
<td>Yes</td>
<td>Before IDAT</td>
</tr>
<tr>
<td>tIME</td>
<td>No</td>
<td>None</td>
</tr>
<tr>
<td>iTXt</td>
<td>Yes</td>
<td>None</td>
</tr>
<tr>
<td>tEXt</td>
<td>Yes</td>
<td>None</td>
</tr>
<tr>
<td>zTXt</td>
<td>Yes</td>
<td>None</td>
</tr>
</tbody>
</table>
<p>PNG images with PLTE in datastream:</p>
<iframe src="/img/png1.svg" height="540" width="800"><br></iframe>

<p>PNG images without PLTE in datastream:</p>
<iframe src="/img/png2.svg" height="540" width="900"><br></iframe>

<h2 id="Chunks"><a href="#Chunks" class="headerlink" title="Chunks"></a>Chunks</h2><p>See <a href="https://www.w3.org/TR/PNG/#table53" target="_blank" rel="noopener">Portable Network Graphics (PNG) Specification (Second Edition)</a></p>
<p>â€¦</p>
<h2 id="Sample-PNG"><a href="#Sample-PNG" class="headerlink" title="Sample PNG"></a>Sample PNG</h2><p><img src="https://upload.wikimedia.org/wikipedia/commons/6/6b/Trimethylsilanol_%28structure%29.png" alt="png"></p>

      
    </div>
    <footer>
      
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>


  <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2019-02-08T08:04:24.000Z"><a href="/2019/02/Programming-Pearls.html">Fri Feb 08 2019 16:04:24 GMT+0800</a></time>
      
      
  
    <h1 class="title"><a href="/2019/02/Programming-Pearls.html">Programming Pearls</a></h1>
  

    </header>
    <div class="entry">
      
        <p>ç»è¿‡å‡ ä¸ªæœˆçš„æ¢ç´¢ï¼Œæˆ‘è§‰å¾—è·Ÿç€ä¸€æœ¬ä¹¦å­¦ä¹ ä¼šæ¯”è¾ƒå¥½ã€‚æˆ‘æ›¾ç»é€‰æ‹©äº†<a href="https://en.wikipedia.org/wiki/Introduction_to_Algorithms" target="_blank" rel="noopener"><em>Introduction to Algorithms</em></a>(ã€Š<del>è„±å‘</del>ç®—æ³•å¯¼è®ºã€‹)ï¼Œä½†æ˜¯æˆ‘å¤ªèœäº†ï¼Œçœ‹ä¸æ‡‚ã€‚</p>
<p>ç°åœ¨çœ‹çš„æ˜¯<em>Programming Pearls</em>(ã€Šç¼–ç¨‹ç ç‘ã€‹) ä½œè€…ï¼š <a href="https://en.wikipedia.org/wiki/Jon_Bentley_%28computer_scientist%29" target="_blank" rel="noopener">Jon Bently</a></p>

      
    </div>
    <footer>
      
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>


  <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2019-02-07T06:32:10.000Z"><a href="/2019/02/Hello.html">Thu Feb 07 2019 14:32:10 GMT+0800</a></time>
      
      
  
    <h1 class="title"><a href="/2019/02/Hello.html">Hello</a></h1>
  

    </header>
    <div class="entry">
      
        <p><del>ä¸è¯·è‡ªé‚€</del><br>éšç€ä¿¡æ¯ç¤¾ä¼šçš„å‘å±•ï¼Œåˆç”±äºä¸ªäººéœ€æ±‚ï¼Œæˆ‘ä¹Ÿç”¨<a href="https://pages.github.com/" target="_blank" rel="noopener">Github Pages</a>å’Œ<a href="https://hexo.io" target="_blank" rel="noopener">Hexo</a>æäº†ä¸ªé™æ€çš„ç½‘ç«™ï¼Œè®°å½•æˆ‘çš„å­¦ä¹ ç”Ÿæ´»ã€‚<br>æ²¡æœ‰è¯„è®ºåŠŸèƒ½ï¼Œå¯åœ¨é¡µé¢åº•éƒ¨æ‰¾åˆ°æˆ‘çš„é‚®ç®±ã€‚</p>
<p>æ³¨æ„ï¼šæœ¬åšå®¢é¡µé¢å‘å¸ƒæ—¶é—´å‡å¯æ›´æ”¹ï¼Œè¯·å‹¿è½»ä¿¡ã€‚ä¸è¿‡æœ¬é¡µé¢å‘å¸ƒæ—¶é—´æ˜¯çœŸçš„ã€‚</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//C++</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"Hello world\n"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//js</span></span><br><span class="line">alert(<span class="string">"Hello World"</span>);</span><br></pre></td></tr></table></figure>
<p>Stibium<br>2019-02-07 äºåŒ—å¸‚å®¶ä¸­</p>

      
    </div>
    <footer>
      
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>



<nav id="pagination">
  
  
  <div class="clearfix"></div>
</nav></div></div>
    <aside id="sidebar" class="alignright">
  <div class="search">
  <form action="//google.com/search" method="get" accept-charset="utf-8">
    <input type="search" name="q" autocomplete="off" results="0" placeholder="Googleç«™å†…æœç´¢">
    <input type="hidden" name="q" value="site:yanjs.github.io">
  </form>
</div>

  
<div class="widget tag">
  <h3 class="title">åˆ†ç±»</h3>
  <ul class="entry">
  
    <li><a href="/categories/Programming/">Programming</a><small>4</small></li>
  
    <li><a href="/categories/This/">This</a><small>1</small></li>
  
  </ul>
</div>


  
<div class="widget tag">
  <h3 class="title">æ ‡ç­¾</h3>
  <ul class="entry">
  
    <li><a href="/tags/Algorithm/">Algorithm</a><small>1</small></li>
  
    <li><a href="/tags/Book/">Book</a><small>1</small></li>
  
    <li><a href="/tags/C/">C++</a><small>0</small></li>
  
    <li><a href="/tags/File-structure/">File_structure</a><small>1</small></li>
  
    <li><a href="/tags/Python/">Python</a><small>1</small></li>
  
    <li><a href="/tags/algorithm/">algorithm</a><small>0</small></li>
  
  </ul>
</div>

</aside>
    <div class="clearfix"></div>
  </div>
  <footer id="footer" class="inner"><div class="alignleft">&copy; 2019 Stibium <a href="&#x6D;&#x61;&#x69;l&#x74;&#x6F;:&#x66;e&#x6C;&#x69;&#x78;&#x79;&#x6A;s&#x40;&#x67;&#x6D;&#x61;&#x69;&#x6C;.&#x63;&#x6F;&#x6D;">Con&#x74;ac&#x74; &#x6D;e &#x76;ia &#x65;&#x6D;ai&#x6C;</a>
</div>
<div class="alignleft">
  / Powered by <a href="//hexo.io">Hexo</a>
</div>
<div class="clearfix"></div></footer>
  <script src="/js/jquery-3.3.1.min.js"></script>
<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>




<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
  $('.fancybox').fancybox();
})(jQuery);
</script>

</body>
</html>
